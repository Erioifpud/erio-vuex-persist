!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).ErioVuexPersist={})}(this,function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(t,e){var r=JSON.parse(JSON.stringify(t));for(var n in e){var o=e[n];i(r,n,o)}return r}function l(t){return null===t||"object"!==e(t)}function i(t,e,r){if(!l(t)){var n=e.split("."),o=n.pop();if(o){var i=!0,a=!1,s=void 0;try{for(var f,u=n[Symbol.iterator]();!(i=(f=u.next()).done);i=!0){var c=f.value;if(l(t[c]))return;t=t[c]}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}t[o]=r}}}t.default=function e(t){var a=this;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.storage=t.storage||window.localStorage,this.rule=t.rule,this.storageKey=t.storageKey||"erio-vuex-persist",this.strict=t.strict,this.restoreState=t.restoreState?t.restoreState:function(t,e){var r=e.getItem(t);return"string"==typeof r?JSON.parse(r||{}):r||{}},this.saveState=t.saveState?t.saveState:function(t,e,r){r.setItem(t,JSON.stringify(e))},this.plugin=function(t){var e=a.restoreState(a.storageKey,a.storage);a.strict?t.commit("RESTORE_MUTATION",e):t.replaceState(f(t.state,e));var o=e||{};t.subscribe(function(t,n){var e=t.type;if(e in a.rule){var r=a.rule[e].reduce(function(t,e){var r=function(t,e){if(!l(t)&&"string"==typeof e){var r=e.split("."),n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var f=a.value;if(!(f in t))return;t=t[f]}}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return{value:t}}}(n,e);return r&&(t[e]=r.value),t},{});o=function(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(i,!0).forEach(function(t){var e,r,n;e=o,n=i[r=t],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):s(i).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}({},o,{},r),a.saveState(a.storageKey,o,a.storage)}})},this.RESTORE_MUTATION=function(t,e){for(var r=f(t,e||{}),n=0,o=Object.keys(r);n<o.length;n++){var i=o[n];a._vm.$set(t,i,r[i])}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
